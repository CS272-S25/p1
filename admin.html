<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel | UW Madison Intramural Sports</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  
    <header>
    <h1>Admin Panel</h1>
    <nav>
      
        <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="teams.html">Team Registration</a></li>
        <li><a href="schedule.html">Schedule</a></li>
        <li><a href="myTeam.html">My Team</a></li>
        <li><a href="admin.html">Admin Page</a></li>
      </ul>
    
    </nav>
  </header>

  <main>
    <h2>Team Management (Admin Only)</h2>
    
    <!--Password input to access admin page content(Stefan M)-->
    <input type="password" id="adminPass" placeholder="Enter Admin Password" />
    <button onclick="unlockAdmin()">Enter</button> <!--Button for user to press in order to check password inputted(Stefan M)-->
    
    <!--This content is displayed to user after password has been correctly entered(Stefan M)-->
    <div id="adminContent" style="display: none;">
      <ul id="allTeamsList"></ul> <!--List where all teams will be displayed with js(Stefan M)-->
    </div>
  
  </main>

  <footer>
    <p>&copy; 2025 UW-Madison | Group 1</p>
  </footer>

  <script src="script.js"></script> <!--JavaScript file where password check, team display, and delete functions exist(Stefan M) -->

</body>
</html>

<script> //Custom JS for admin
  const ADMIN_PASSWORD = "admin123"; //This is the passcode for the admin page
  
  function unlockAdmin() { //This function checks the password and unlocks the page when the user clicks enter
    
    const inputPass = document.getElementById("adminPass").value; //gets the entered password
    if (inputPass === ADMIN_PASSWORD) {
      document.getElementById("adminContent").style.display = "block";// This shows the admin the content of the page
      showAllTeamsAdmin();
    } else {
      alert("Incorrect password."); //Will show user the incorrect password message if the password is not admin123
    }
  }
  
  //This displays all the teams with their members and a delete button
  function showAllTeamsAdmin() {
    const list = document.getElementById("allTeamsList");
    const teams = getTeams(); //this loeads all the teams
    list.innerHTML = ""; //This clears any of the old data
  
    //This loops for every team and shows their data
    for (const [teamName, data] of Object.entries(teams)) {
      const li = document.createElement("li");
      li.innerHTML = `<strong>${teamName}</strong> (${data.sport}) - Members: ${data.members.join(", ") || "None"}
        <button onclick="deleteTeam('${teamName}')">Delete</button>`;
      list.appendChild(li); //add it to the user list
    }
  }
  //This is called when admin presses delete button
  function deleteTeam(teamName) {
    const teams = getTeams();
    delete teams[teamName]; //remove team
    saveTeams(teams); // save the updated list
    showAllTeamsAdmin(); //refreshes the display for updated results
  }
  </script>
